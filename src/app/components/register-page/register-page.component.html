<div class="form-container">
  <form (input)="enableButton()"
        (ngSubmit)="signUp()"
        [formGroup]="registerForm"
        class="form" novalidate>
    <span class="window-header">Регистрация</span>
    <div class="form-controls">
      <div formGroupName="fullName" class="form-group">
        <label class="form-field">
          <span class="form-field-name">
            <label class="hint-text-sign">
              <span>?</span>
            <app-info [info]="'Введите свое имя без пробелов и знаков препинания'" class="hint-text">
            </app-info>
            </label>
            Ваше имя:
          </span>
          <input formControlName="name" class="form-field-input">
        </label>
        <label class="form-field">
          <span class="form-field-name">
            <label class="hint-text-sign">
              <span>?</span>
            <app-info [info]="'Введите свою фамилию без пробелов и знаков препинания'" class="hint-text">
            </app-info>
            </label>
            Ваша фамилия:
          </span>
          <input formControlName="surname" class="form-field-input">
        </label>
      </div>
      <div class="form-group">
        <label class="form-field">
          <span class="form-field-name">
            <label class="hint-text-sign">
              <span>?</span>
            <app-info [info]="'Придумайте логин, используя только латинские буквы, символы подчеркивания и цифры'"
                      class="hint-text">
            </app-info>
            </label>
            Придумайте логин:
          </span>
          <input (input)="timeoutCheck()" formControlName="login" class="form-field-input">
        </label>
        <label class="form-field">
          <label *ngIf="registerForm.get('login').valid" class="message">
            <span *ngIf="timerForCheck" class="message-undefined">⚠ проверяем</span>
            <label class="message">
              <span *ngIf="!timerForCheck && !userExistError" class="message-unique">✓ логин свободен</span>
              <span *ngIf="!timerForCheck && userExistError" class="message-non-unique">✕ логин занят</span>
            </label>
          </label>
          <label *ngIf="registerForm.get('login').invalid" class="message">
            <span *ngIf="registerForm.get('login').hasError('required')"
                  class="message-undefined">⚠ заполните поле</span>
            <span *ngIf="registerForm.get('login').hasError('pattern')"
                  class="message-undefined">⚠ некорректный логин</span>
            <span *ngIf="registerForm.get('login').hasError('minlength')" class="message-undefined">⚠ слишком короткий логин</span>
          </label>
        </label>
      </div>
      <div formGroupName="password">
        <div class="form-field">
          <span class="form-field-name">
            <label class="hint-text-sign">
              <span>?</span>
            <app-info [info]="'Придумайте пароль, который будет содержать цифры, буквы и знаки подчеркивания'"
                      class="hint-text">
            </app-info>
            </label>
            Придумайте пароль:
          </span>
          <label>
            <input formControlName="newPassword" type="password" class="form-field-input">
            <input appShowPassword type="checkbox" class="form-field-input">
          </label>
        </div>
        <label class="form-field">
          <span class="form-field-name">Повторите пароль:</span>
          <label class="form-field-password">
            <input class="form-field-input" formControlName="confirmNewPassword" type="password">
            <input appShowPassword type="checkbox">
          </label>
        </label>
      </div>
    </div>
    <label class="form-button">
      <input formControlName="submit" type="submit" class="form-button-submit">
    </label>
  </form>
  <a routerLink="" class="back">← Назад</a>
</div>
